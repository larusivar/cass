# Cargo configuration for cass
# https://doc.rust-lang.org/cargo/reference/config.html

[build]
# Use all available CPU cores for parallel compilation
jobs = -1

[env]
# Coverage exclusion patterns for cargo-llvm-cov
# These paths are excluded from coverage reports
CARGO_LLVM_COV_EXCLUDE = "tests/*,**/test*.rs,benches/*"

[target.x86_64-unknown-linux-gnu]
# Linux-specific settings (CI environment)
rustflags = ["-C", "link-arg=-fuse-ld=lld"]

[target.aarch64-apple-darwin]
# Apple Silicon settings
rustflags = ["-C", "link-arg=-fuse-ld=lld"]

[target.x86_64-apple-darwin]
# Intel Mac settings
rustflags = ["-C", "link-arg=-fuse-ld=lld"]

# Alias for coverage command
[alias]
cov = "llvm-cov --workspace --ignore-filename-regex tests/ --ignore-filename-regex benches/"
cov-html = "llvm-cov --workspace --ignore-filename-regex tests/ --ignore-filename-regex benches/ --html --open"
cov-json = "llvm-cov --workspace --ignore-filename-regex tests/ --ignore-filename-regex benches/ --json"
